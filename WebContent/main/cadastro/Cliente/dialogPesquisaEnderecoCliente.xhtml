<p:dialog xmlns="http://www.w3.org/1999/xhtml"
	xmlns:p="http://primefaces.org/ui"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:o="http://omnifaces.org/ui"
	xmlns:f="http://xmlns.jcp.org/jsf/core" id="pesquisaEnderecoDialog"
	width="70%" modal="true" resizable="false" closeOnEscape="true"
	widgetVar="dialogEndereco"
	header="#{messages['endereco.pesquisa-dialog.title']}">

	<div class="box">
		<div class="box-header with-border">
			<h2 class="box-title col-sm-2">
				<p:outputLabel value="Endereço"></p:outputLabel>
			</h2>
		</div>
		<div class="box-body row">
			<div class="col-sm-2">
				<p:outputLabel value="#{label['label.cep']}" for="procuraCEP"
					rendered="#{clienteBean.consultaPorCepVisivel eq 'true'}" />
				<p:inputMask value="#{clienteBean.cep}" id="procuraCEP"
					mask="99999-999"
					rendered="#{clienteBean.consultaPorCepVisivel eq 'true'}" />
			</div>
			<div class="col-sm-2">
				<p:outputLabel for="uff" value="Estado "
					rendered="#{clienteBean.consultaPorCepVisivel eq 'false'}" />
				<p:selectOneMenu id="uff" value="#{clienteBean.estado}"
					style="width:100%"
					rendered="#{clienteBean.consultaPorCepVisivel eq 'false'}"
					immediate="true">
					<f:selectItem itemValue="#{null}" noSelectionOption="true"
						itemLabel="#{messages['filial.form.select-one']}" />
					<f:selectItems var="uf" itemValue="#{uf}"
						value="#{clienteBean.ufSiglaType}" />
				</p:selectOneMenu>
			</div>
			<div class="col-sm-5">
				<p:outputLabel value="Logradouro" for="logra"
					rendered="#{clienteBean.consultaPorCepVisivel eq 'false'}" />
				<p:inputText value="#{clienteBean.logra}" id="logra"
					rendered="#{clienteBean.consultaPorCepVisivel eq 'false'}"
					styleClass="form-control" />
			</div>
			<div class="col-sm-3">
				<p:outputLabel value="Município" for="muni"
					rendered="#{clienteBean.consultaPorCepVisivel eq 'false'}" />
				<p:inputText value="#{clienteBean.munic}" id="muni"
					rendered="#{clienteBean.consultaPorCepVisivel eq 'false'}"
					styleClass="form-control" />
			</div>
			<div class="col-sm-12">
				<p:dataTable id="Enderecos" var="listaEnd"
					value="#{clienteBean.listaEncontrada}"
					paginatorTemplate="{CurrentPageReport} {FirstPageLink}
							{PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
					paginator="true" rows="7" selection="#{clienteBean.endereco}"
					selectionMode="single" lazy="true" rowKey="#{listaEnd.cep}"
					rendered="#{clienteBean.consultaPorCepVisivel eq 'false'}">
					<p:ajax event="rowSelect"
						listener="#{clienteBean.onRowEnderecoSelect}"
						update="logradouro bairro localidade ibge cep"
						oncomplete="PF('dialogEndereco').hide()" />
					<p:column headerText="#{label['label.cep']}"
						sortBy="#{listaEnd.cep}" rendered="true">  
            					#{listaEnd.cep}  
        					</p:column>
					<p:column sortBy="#{listaEnd.logra}" headerText="Logradouro">
						<h:outputText value="#{listaEnd.logra}" />
					</p:column>
					<p:column headerText="Bairro" rendered="true">
						#{listaEnd.bairro}
					</p:column>
					<p:column headerText="Município" rendered="true">  
            					#{listaEnd.localidade}  
        					</p:column>
					<p:column headerText="Estado" rendered="true">  
            					#{listaEnd.uf.toString()}  
        					</p:column>
				</p:dataTable>

			</div>
		</div>
		<div class="box-footer align-right">

			<p:commandButton actionListener="#{clienteBean.localizaCep()}"
				process="testeEnvio" style="align-left"
				oncomplete="PF('dialogEndereco').hide()"
				value="#{label['label.search']}" styleClass="btn btn-flat btn-seach"
				icon="fa fa-search-plus"
				rendered="#{clienteBean.consultaPorCepVisivel eq 'true'}"
				update="logradouro bairro localidade ibge cep" />


			<p:commandButton actionListener="#{clienteBean.localizaEndereco()}"
				process="testeEnvio" style="align-left" update="Enderecos"
				value="#{label['label.search']}" styleClass="btn btn-flat btn-seach"
				rendered="#{clienteBean.consultaPorCepVisivel eq 'false'}"
				icon="fa fa-search-plus" />
		</div>
	</div>


</p:dialog>

